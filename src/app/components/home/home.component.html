<div class="container-fluid  mx-0 px-5 pb-5">
  <div class="row w-100 my-4">
    <h1 class="text-center text-verde display-2 fw-semibold"> I nostri clienti</h1>
  </div>
  <div class="row mt-3 mx-0 d-flex justify-content-evenly">
    <div class="col-3" *ngFor="let cliente of clienti">
      <div class="card shadow-lg" style="width: 20rem;">
        <div class="card-body">
          <h5 class="card-title fw-semibold">Cliente con id: {{cliente.id}}</h5>
          <p class="card-text">
            Ragione sociale: {{cliente.ragioneSociale}}<br>
            Nome contatto: {{cliente.nomeContatto}}<br>
            Cognome contatto: {{cliente.cognomeContatto}}<br>
            Email: {{cliente.emailContatto}}<br>
            Fatturato: {{cliente.fatturatoAnnuale}}<br>
            Via: {{cliente.indirizzi[0].via}} n° {{cliente.indirizzi[0].civico}}<br>
            Civico: {{cliente.indirizzi[0].civico}}<br>
            Cap: {{cliente.indirizzi[0].cap}}<br>
            Località: {{cliente.indirizzi[0].localita}}<br>
            Comune: {{cliente.indirizzi[0].comune.denominazione}}<br>
            Tipo Indirizzo:{{cliente.indirizzi[0].tipoIndirizzo}}<br>
            {{cliente.telefono}}<br>
            {{cliente.tipoCliente}}<br>
            {{cliente.pec}}<br>
          </p>
          <button class="btn btn-outline-dark" type="button" data-bs-toggle="offcanvas" [attr.data-bs-target]="'#offcanvasExample' + cliente.id" aria-controls="offcanvasExample">
          Vedi Fatture
        </button>
          <ng-container *ngFor="let fattura of fatture">
          
          <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample{{cliente.id}}" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasExampleLabel">Fatture del cliente con id: {{cliente.id}}</h5>
              <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
              <div class="card mx-2 shadow-lg" style="width: 22rem; height: 120%;">
                <div class="card-header bg-white m-0 p-3">
                    <h5 class="card-title fw-semibold">Numero Fattura: {{fattura.numeroFattura}}</h5>
                </div>
                <div class="card-body d-flex justify-content-between">
                    <div class="py-3" style="width: 45%;">
                        <p class="card-text">
                            Data: {{fattura.data}}<br>
                            Importo: {{fattura.importo}}<br>
                        </p>
                    </div>
                    <div class="h-100 d-flex align-items-end" style="width: 45%;">
                        <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal"
                        [attr.data-bs-target]="'#exampleModal' + fattura.numeroFattura">
                            Dettagli Fattura
                        </button>
                    </div>

                </div>
                <div class="card-footer pe-0" style="height: 35%;">
                    <p>
                        Cliente Id: {{fattura.cliente.id}}<br>
                        Cliente Email: {{fattura.cliente.email}}<br>
                        Cliente Ragione Sociale: {{fattura.cliente.ragioneSociale}}<br>
                    </p>


                    <div class="modal fade" id="exampleModal{{fattura.numeroFattura}}" tabindex="-1"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content" [style.border]="'1px solid transparent'">
                                <div class="modal-header bg-secondary">
                                    <h1 class="modal-title fs-5 text-white" id="exampleModalLabel">Dettagli Fattura</h1>
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body bg-secondary-subtle p-5">
                                    <h3 class="mt-0 mb-3 p-3 fs-3 text-black"> Numero Fattura: {{fattura.numeroFattura}}
                                    </h3>
                                    <p class="fs-5 text-black p-4">
                                        Data: {{fattura.data}}<br>
                                        Importo: {{fattura.importo}}<br>
                                        Stato della fattura: {{fattura.statoFattura}}<br>
                                    </p>
                                    <hr>
                                    <p>
                                        Cliente Id: {{fattura.cliente.id}}<br>
                                        Cliente Email: {{fattura.cliente.email}}<br>
                                        Cliente Ragione Sociale: {{fattura.cliente.ragioneSociale}}<br>
                                    </p>
                                </div>
                                <div class="modal-footer bg-secondary">
                                    <button type="button" class="btn btn-outline-light"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
          </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>